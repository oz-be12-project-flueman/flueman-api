# ğŸ¤– Flueman API â€“ ë””ì§€í„¸ íœ´ë¨¼ AI ê°€ìƒë¹„ì„œ ì„œë¹„ìŠ¤

## ğŸ“Œ í”„ë¡œì íŠ¸ ì†Œê°œ

Flueman(í”Œë£¨ë§¨, Fluent Human) APIëŠ” **ë””ì§€í„¸ íœ´ë¨¼ AI ê°€ìƒë¹„ì„œ ì„œë¹„ìŠ¤**ë¥¼ ìœ„í•œ
**AI ëª¨ë¸ ë°°í¬ìš© API ì„œë²„**ì…ë‹ˆë‹¤.

- **ëª©í‘œ**: ì‚¬ìš©ì ìš”ì²­ì„ ë¹ ë¥´ê³  ì•ˆì „í•˜ê²Œ ì²˜ë¦¬, AI ì˜ˆì¸¡ ê²°ê³¼ íš¨ìœ¨ì  ì œê³µ
- **íŠ¹ì§•**: FastAPI ê¸°ë°˜, MySQL + S3 ë°ì´í„° ê´€ë¦¬, JWT ì¸ì¦/ë³´ì•ˆ, AWS í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì•„í‚¤í…ì²˜

---

## âš™ï¸ ì£¼ìš” ê¸°ëŠ¥

1. **ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„**

   - ì‚¬ìš©ì, ëª¨ë¸, ìš”ì²­/ì‘ë‹µ, í”¼ë“œë°± ê´€ë¦¬
   - MySQL ê¸°ë°˜ ìŠ¤í‚¤ë§ˆ ì„¤ê³„

2. **API ì„œë²„ (FastAPI)**

   - RESTful API, JWT ì¸ì¦
   - ìš”ì²­ ê²€ì¦ ë° ì˜¤ë¥˜ ì²˜ë¦¬

3. **ë°ì´í„° ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸**

   - ì •ê·œí™”, ì¤‘ë³µ ì œê±°, í† í°í™”, ê²°ì¸¡ê°’ ì²˜ë¦¬
   - ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤ í†µí•©

4. **AI ëª¨ë¸ ë°°í¬ ë° ëª¨ë‹ˆí„°ë§**
   - AWS ECS/Fargate ë˜ëŠ” EC2 ë°°í¬
   - CloudWatch + OpenTelemetry ëª¨ë‹ˆí„°ë§
   - ë¡œê·¸/ì¥ì•  ì¶”ì 

---

## ğŸ— í”„ë¡œì íŠ¸ êµ¬ì¡°

### ğŸ”‘ ê¸°ìˆ  ìŠ¤íƒ

- **FastAPI** (Uvicorn/Gunicorn)
- **MySQL (RDS)** â€“ ì‚¬ìš©ì/ëª¨ë¸/ìš”ì²­/í”¼ë“œë°± ê´€ë¦¬
- **S3** â€“ í•™ìŠµ/ì¶”ë¡  ì•„í‹°íŒ©íŠ¸ ì €ì¥
- **Redis (ì˜µì…˜)** â€“ ì„¸ì…˜, ë ˆì´íŠ¸ë¦¬ë°‹, ì¡ í
- **ëª¨ë¸ ì„œë²„ (ì˜µì…˜)** â€“ GPU ì¸ìŠ¤í„´ìŠ¤ ë¶„ë¦¬ ë°°ì¹˜
- **CI/CD** â€“ GitHub Actions â†’ ECR â†’ ECS
- **Observability** â€“ CloudWatch, OpenTelemetry
- **ë³´ì•ˆ** â€“ JWT, AWS Secrets Manager, TLS, IAM ìµœì†Œê¶Œí•œ

### ğŸ“‚ ë””ë ‰í„°ë¦¬ êµ¬ì¡°

```bash
flueman-api/
 â”œâ”€ .github/                                  # ğŸ”¹ GitHub Actions ì›Œí¬í”Œë¡œ
 â”‚  â””â”€ workflows/
 â”‚      â”œâ”€ ci.yml                             # PRìš© lint/test/build
 â”‚      â”œâ”€ release.yml                        # release â†’ main ë¨¸ì§€ ì‹œ íƒœê·¸/ë¦´ë¦¬ìŠ¤
 â”‚      â””â”€ auto-delete-merge.yml              # feature/** â†’ dev ë¨¸ì§€ ê´€ë ¨
 â”‚
 â”œâ”€ app/
 â”‚  â”œâ”€ core/                                  # ì „ì—­ ì„¤ì •/ë³´ì•ˆ/DB/ë¡œê¹…/ê´€ì°°ì„±
 â”‚  â”œâ”€ shared/                                # ì¬ì‚¬ìš© ìœ í‹¸/ê³µìš© ìŠ¤í‚¤ë§ˆ/í—¬í¼
 â”‚  â”œâ”€ features/                              # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
 â”‚  â”‚   â”œâ”€ auth/                              # ì¸ì¦/ë¡œê·¸ì¸
 â”‚  â”‚   â”‚   â”œâ”€ router.py                      # ë¼ìš°í„° (ì—”ë“œí¬ì¸íŠ¸)
 â”‚  â”‚   â”‚   â”œâ”€ service.py                     # ì„œë¹„ìŠ¤ ë¡œì§
 â”‚  â”‚   â”‚   â”œâ”€ repository.py                  # DB ì ‘ê·¼ ë ˆì´ì–´
 â”‚  â”‚   â”‚   â””â”€ schemas.py                     # Pydantic ìŠ¤í‚¤ë§ˆ
 â”‚  â”‚   â”œâ”€ users/                             # ì‚¬ìš©ì ê´€ë¦¬
 â”‚  â”‚   â”‚   â”œâ”€ router.py
 â”‚  â”‚   â”‚   â”œâ”€ service.py
 â”‚  â”‚   â”‚   â”œâ”€ repository.py
 â”‚  â”‚   â”‚   â””â”€ schemas.py
 â”‚  â”‚   â”œâ”€ models_registry/                   # ëª¨ë¸ ë©”íƒ€ ê´€ë¦¬
 â”‚  â”‚   â”‚   â”œâ”€ router.py
 â”‚  â”‚   â”‚   â”œâ”€ service.py
 â”‚  â”‚   â”‚   â”œâ”€ repository.py
 â”‚  â”‚   â”‚   â””â”€ schemas.py
 â”‚  â”‚   â”œâ”€ inference/                         # ì¶”ë¡  API
 â”‚  â”‚   â”‚   â”œâ”€ router.py
 â”‚  â”‚   â”‚   â”œâ”€ service.py
 â”‚  â”‚   â”‚   â”œâ”€ repository.py
 â”‚  â”‚   â”‚   â””â”€ schemas.py
 â”‚  â”‚   â”œâ”€ datasets/                          # ë°ì´í„° ì—…ë¡œë“œ/ì „ì²˜ë¦¬
 â”‚  â”‚   â”‚   â”œâ”€ router.py
 â”‚  â”‚   â”‚   â”œâ”€ service.py
 â”‚  â”‚   â”‚   â”œâ”€ repository.py
 â”‚  â”‚   â”‚   â””â”€ schemas.py
 â”‚  â”‚   â”œâ”€ preproc_jobs/                      # ì „ì²˜ë¦¬ ì¡ ê´€ë¦¬
 â”‚  â”‚   â”‚   â”œâ”€ router.py
 â”‚  â”‚   â”‚   â”œâ”€ service.py
 â”‚  â”‚   â”‚   â”œâ”€ repository.py
 â”‚  â”‚   â”‚   â””â”€ schemas.py
 â”‚  â”‚   â”œâ”€ feedback/                          # í”¼ë“œë°± ê´€ë¦¬
 â”‚  â”‚   â”‚   â”œâ”€ router.py
 â”‚  â”‚   â”‚   â”œâ”€ service.py
 â”‚  â”‚   â”‚   â”œâ”€ repository.py
 â”‚  â”‚   â”‚   â””â”€ schemas.py
 â”‚  â”‚   â”œâ”€ monitoring/                        # ìš”ì²­/ì‘ë‹µ ë¡œê·¸ ì¡°íšŒ
 â”‚  â”‚   â”‚   â”œâ”€ router.py
 â”‚  â”‚   â”‚   â”œâ”€ service.py
 â”‚  â”‚   â”‚   â””â”€ repository.py
 â”‚  â”‚   â””â”€ health/                            # í—¬ìŠ¤ì²´í¬
 â”‚  â”‚       â””â”€ router.py
 â”‚  â”‚
 â”‚  â”œâ”€ main.py                                # FastAPI ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
 â”‚  â””â”€ middleware.py                          # CORS, ë¡œê¹…, ì—ëŸ¬í•¸ë“¤ëŸ¬
 â”‚
 â”œâ”€ migrations/                               # Alembic ë§ˆì´ê·¸ë ˆì´ì…˜
 â”‚  â”œâ”€ env.py
 â”‚  â”œâ”€ script.py.mako
 â”‚  â””â”€ versions/
 â”‚
 â”œâ”€ docker/                                   # Docker ê´€ë ¨ íŒŒì¼
 â”‚  â”œâ”€ Dockerfile                             # ì»¨í…Œì´ë„ˆ ë¹Œë“œ ì •ì˜
 â”‚  â”œâ”€ docker-compose.dev.yml                 # ë¡œì»¬ ê°œë°œ(í•«ë¦¬ë¡œë“œ/ë³¼ë¥¨)
 â”‚  â”œâ”€ docker-compose.prod.yml                # ì›ê²© EC2(ì½ê¸°ì „ìš©/ë¦¬ìŠ¤íƒ€íŠ¸)
 â”‚  â””â”€ gunicorn_conf.py                       # í”„ë¡œë•ì…˜ìš© Gunicorn ì„¤ì •
 â”‚
 â”œâ”€ infra/                                    # IaC/ë°°í¬ ì„¤ì •
 â”‚  â”œâ”€ ecs/                                   # ECS/Fargate íƒœìŠ¤í¬ ì •ì˜
 â”‚  â”‚   â”œâ”€ taskdef.json
 â”‚  â”‚   â”œâ”€ service.json
 â”‚  â”‚   â””â”€ alb.json
 â”‚  â””â”€ github-actions/                        # GH Actions í…œí”Œë¦¿(ì˜µì…˜)
 â”‚      â”œâ”€ ci.yml
 â”‚      â”œâ”€ release.yml
 â”‚      â””â”€ auto-delete-feature.yml            # ì˜¤ë˜ëœ feature ë¸Œëœì¹˜ ìë™ ì •ë¦¬
 â”‚
 â”œâ”€ tests/                                    # í…ŒìŠ¤íŠ¸ ì½”ë“œ
 â”‚  â”œâ”€ conftest.py                            # ê³µìš© í”½ìŠ¤ì²˜
 â”‚  â”œâ”€ e2e/                                   # E2E í…ŒìŠ¤íŠ¸
 â”‚  â”œâ”€ features/                              # ê¸°ëŠ¥ë³„ ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸
 â”‚  â”‚   â”œâ”€ test_auth.py
 â”‚  â”‚   â”œâ”€ test_users.py
 â”‚  â”‚   â””â”€ ...
 â”‚
 â”œâ”€ scripts/                                  # ë³´ì¡° ìŠ¤í¬ë¦½íŠ¸
 â”‚  â”œâ”€ gen_ulid.py                            # UUID/ULID ìƒì„±ê¸°
 â”‚  â””â”€ load_sample_data.py                    # ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ
 â”‚
 â”œâ”€ .env.example                              # í™˜ê²½ë³€ìˆ˜ ì˜ˆì‹œ
 â”œâ”€ pyproject.toml                            # ë¹Œë“œ/ë„êµ¬ ì„¤ì •
 â”œâ”€ requirements.txt                          # ìš´ì˜ ì˜ì¡´ì„±
 â”œâ”€ requirements-dev.txt                      # ê°œë°œ/í…ŒìŠ¤íŠ¸ ì˜ì¡´ì„±
 â”œâ”€ constraints.txt                           # ê³µí†µ ë²„ì „ ì œì•½
 â”œâ”€ mypy.ini                                  # íƒ€ì… ì²´ì»¤ ì„¤ì •
 â”œâ”€ ruff.toml                                 # ruff í¬ë§·/ë¦°íŠ¸ ê·œì¹™
 â”œâ”€ .pre-commit-config.yaml                   # pre-commit í›… ì„¤ì •
 â””â”€ README.md                                 # í”„ë¡œì íŠ¸ ì„¤ëª… ë¬¸ì„œ


```

---

### ğŸ“‚ ë°ì´í„°ë² ì´ìŠ¤ ê°œìš”

- **users** : ì‚¬ìš©ì/ê¶Œí•œ
- **api_keys** : ì™¸ë¶€ ì ‘ê·¼ìš© API Key (ì˜µì…˜)
- **sessions** : ì„¸ì…˜/í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬
- **models** : ëª¨ë¸ ë²„ì „/ê²½ë¡œ(S3)/íƒœê·¸
- **requests** : API ìš”ì²­ ë¡œê·¸ (ìš”ì²­/ì‘ë‹µ ë©”íƒ€)
- **predictions** : ì˜ˆì¸¡ ê²°ê³¼ (ì¶œë ¥/ìŠ¤ì½”ì–´)
- **feedback** : ì‚¬ìš©ì í”¼ë“œë°± (ì •ë‹µ/í‰ê°€)
- **datasets** : ì›ì²œ/ì „ì²˜ë¦¬ ë°ì´í„° ë©”íƒ€ ì •ë³´
- **preproc_jobs** : ë°ì´í„° ì „ì²˜ë¦¬ ì¡ ì´ë ¥
- **audit_logs** : ë³´ì•ˆ/ì¤‘ìš” ì´ë²¤íŠ¸ ê°ì‚¬ ë¡œê·¸

---

### ğŸŒ¿ ë¸Œëœì¹˜

- **main**

  - ìš´ì˜ ë°°í¬ìš©
  - ì§ì ‘ í‘¸ì‹œ ê¸ˆì§€, Pull Requestë§Œ í—ˆìš©
  - í•„ìˆ˜ ì²´í¬: í…ŒìŠ¤íŠ¸, ë¦°íŠ¸, ë¹Œë“œ
  - ë³‘í•© ì‹œ íƒœê·¸(`vX.Y.Z`) ìƒì„± â†’ í”„ë¡œë•ì…˜ ë°°í¬

- **dev**

  - ê°œë°œ í†µí•© ë¸Œëœì¹˜ (ìŠ¤í…Œì´ì§•)
  - ê¸°ëŠ¥ ë¸Œëœì¹˜ â†’ dev ë³‘í•©
  - ê¸°ë³¸ ì²´í¬: í…ŒìŠ¤íŠ¸, ë¦°íŠ¸

- **release/\***
  - ë¦´ë¦¬ìŠ¤ ì¤€ë¹„ ë¸Œëœì¹˜
  - ë²„ê·¸ ìˆ˜ì •ë§Œ í—ˆìš©
  - ê²€ì¦ ì™„ë£Œ í›„ main/devì— ë³‘í•©

---

#### ë„¤ì´ë° ê·œì¹™

- ê¸°ëŠ¥: `feature/<ì˜ì—­>/<ì„¸ë¶€>`
- ë²„ê·¸í”½ìŠ¤: `fix/<ì˜ì—­>/<ì´ìŠˆ>`
- ë¦´ë¦¬ìŠ¤: `release/x.y.z`
- í•«í”½ìŠ¤: `hotfix/x.y.z`

---

## ğŸ›  ê°œë°œ í™˜ê²½

### ì˜ì¡´ì„± ê´€ë¦¬

- **ìš´ì˜(í”„ë¡œë•ì…˜)**: `requirements.txt`
- **ê°œë°œ/í…ŒìŠ¤íŠ¸**: `requirements-dev.txt`

### ì„¤ì¹˜ ë°©ë²•

#### ë¡œì»¬ ê°œë°œ

```bash
# ë¡œì»¬ ê°œë°œì (ìš´ì˜ + ê°œë°œ ëª¨ë‘ )
pip install -r requirements.txt -r requirements-dev.txt -c constraints.txt

# ìš´ì˜/ë°°í¬ (ì»¨í…Œì´ë„ˆ, ì„œë²„)
pip install -r requirements.txt -c constraints.txt

# pre-commit í›… ì„¤ì¹˜
pre-commit install
pre-commit install --hook-type commit-msg

# ë ˆí¬ ì „ì²´ì— í•œ ë²ˆ ì ìš©(ìë™ í¬ë§·/ì •ë ¬ + ì˜¤ë¥˜ ë¦¬í¬íŠ¸ í™•ì¸)
pre-commit run --all-files
```
